# モバイル利用ガイド

## PWA (Progressive Web App) としての使用方法

このアプリは完全なPWA対応で、スマートフォンやタブレットでネイティブアプリのように使用できます。

## インストール手順

### iOS (Safari)

1. Safariでアプリを開く: http://localhost:3000
2. 画面下部の「共有」ボタンをタップ
3. 「ホーム画面に追加」を選択
4. 名前を確認して「追加」をタップ

これで、ホーム画面からアプリアイコンをタップして起動できます！

### Android (Chrome)

1. Chromeでアプリを開く: http://localhost:3000
2. 右上のメニュー（⋮）をタップ
3. 「ホーム画面に追加」または「アプリをインストール」を選択
4. 「インストール」をタップ

または、アドレスバーに表示される「インストール」プロンプトから直接インストール可能です。

### デスクトップ (Chrome/Edge)

1. ブラウザでアプリを開く
2. アドレスバー右側の「インストール」アイコンをクリック
3. 「インストール」をクリック

## モバイル最適化機能

### ✅ 既に実装済み

#### PWA機能
- **スタンドアロンモード**: ブラウザUIなしでアプリとして起動
- **オフライン対応**: インターネット接続なしで完全動作
- **ホーム画面アイコン**: ネイティブアプリのような体験
- **アプリショートカット**: ホーム画面から直接新規イベント作成

#### レスポンシブデザイン
- **モバイル優先設計**: スマートフォンで最適に表示
- **タッチフレンドリー**: 大きなボタンとタップエリア
- **適応型レイアウト**: 画面サイズに応じて自動調整
- **縦向き最適化**: ポートレートモードで快適な操作

#### パフォーマンス
- **高速起動**: IndexedDBによる即座のデータ読み込み
- **スムーズな操作**: ネットワーク遅延なし
- **バッテリー効率**: サーバー通信なしで省電力

### 画面サイズ対応

現在の実装：
- **スマートフォン** (320px～): 1カラムレイアウト
- **タブレット** (768px～): 2カラムレイアウト
- **デスクトップ** (1024px～): 3カラムレイアウト

## タッチ操作

### 基本操作

- **タップ**: 項目の選択・編集
- **ロングタップ**: 詳細メニュー表示
- **スクロール**: 上下にスワイプ
- **ピンチズーム**: 無効化（操作の誤作動防止）

### カレンダー操作

- **日付選択**: タップで日付を選択
- **イベント作成**: 時間帯をタップして新規作成
- **イベント編集**: イベントをタップして詳細表示
- **月切り替え**: スワイプまたはボタンで前後の月へ移動

### TODO操作

- **完了チェック**: チェックボックスをタップ
- **編集**: TODO項目をタップ
- **削除**: スワイプまたは編集画面から

## オフライン機能

### 利用可能な機能（オフライン時）

✅ **すべての機能が利用可能**:
- イベントの作成・編集・削除
- TODOの管理
- テンプレートの使用
- カテゴリ管理
- 設定変更
- 学習データの閲覧

❌ **利用不可の機能**:
- AI機能（イベント解析、チャット、最適化）
  - これらはOpenAI APIを使用するため、インターネット接続が必要

### データ同期

現在、データは各デバイスのブラウザに個別に保存されます。

**デバイス間でデータを共有する方法**:
1. 設定画面からデータをエクスポート（JSON形式）
2. 他のデバイスにファイルを転送
3. インポート機能でデータを読み込み

## パフォーマンス最適化

### 推奨設定

#### iOS Safari
- 設定 > Safari > プライバシーとセキュリティ > 「サイト越えトラッキングを防ぐ」をOFF
  （IndexedDBの動作を確実にするため）

#### Android Chrome
- 設定 > サイトの設定 > Cookie > 「Cookieを許可」をON
- 設定 > サイトの設定 > JavaScriptをON

### ストレージ管理

IndexedDBのストレージ使用量の確認：

**Chrome (デスクトップ)**:
1. F12でDevToolsを開く
2. Application → Storage
3. Usage が表示されます

**iOS Safari**:
- 設定 > Safari > 詳細 > Webサイトデータ
- アプリのドメインを検索して使用量を確認

### データバックアップ

定期的にデータをエクスポートすることを推奨：
- 週に1回程度
- 大量のイベント追加後
- デバイス変更前

## トラブルシューティング

### アプリが起動しない

1. ブラウザのキャッシュをクリア
2. アプリを再インストール
3. ブラウザを最新版に更新

### データが表示されない

1. ページをリロード
2. ブラウザのStorageを確認
3. 必要に応じてデータをインポート

### 動作が遅い

1. ブラウザのタブを閉じて軽量化
2. デバイスを再起動
3. 不要なデータを削除

### オフラインで動作しない

1. Service Workerが登録されているか確認
   - DevTools > Application > Service Workers
2. キャッシュが正しく保存されているか確認
3. ページを一度オンラインで開いてから試す

## セキュリティとプライバシー

### データの保存場所

- **全データがローカル保存**: デバイス内のIndexedDB
- **外部送信なし**: インターネット接続時も基本的にローカルのみ
- **例外**: AI機能使用時のみOpenAI APIへ送信

### データの保護

- ブラウザのセキュリティ機能により保護
- デバイスのパスコード/生体認証で保護
- 他のアプリからのアクセス不可

### プライバシー

- 個人情報の収集なし
- トラッキングなし
- 分析データの送信なし

## モバイルでの推奨利用方法

### 最適な使い方

1. **朝**: ホーム画面から起動して今日のスケジュール確認
2. **移動中**: TODOリストをチェック・完了
3. **仕事中**: 新しいイベントを素早く追加
4. **夜**: 明日のスケジュールを計画
5. **週末**: 来週のテンプレートから一括スケジュール作成

### ウィジェット風の使い方

iOS 14+やAndroid 12+では、ホーム画面にショートカットを配置：
- 「新しいイベント」ショートカット
- アプリアイコン長押しでクイックアクション

## 今後の拡張予定

### 計画中のモバイル機能

- [ ] スワイプジェスチャーでイベント削除
- [ ] プルダウンで更新
- [ ] ハプティックフィードバック
- [ ] ダークモード自動切り替え
- [ ] ウィジェット対応
- [ ] Siriショートカット対応 (iOS)
- [ ] 音声入力対応
- [ ] カレンダーウィジェット

### データ同期機能（検討中）

- クラウド同期オプション
- デバイス間自動同期
- バックアップ自動化

## まとめ

このアプリはモバイルファーストで設計されており、スマートフォンで快適に使用できます：

✅ **オフライン完全対応**
✅ **PWAネイティブアプリ体験**
✅ **高速・軽量動作**
✅ **プライバシー保護**
✅ **バッテリー効率**

ぜひホーム画面に追加して、日常のスケジュール管理にご活用ください！
